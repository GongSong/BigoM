<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Empty Page - Ace Admin</title>

		<meta name="description" content="Minimal empty page" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!--basic styles-->

		<link href="/static/assets/css/bootstrap.min.css" rel="stylesheet" />
		<link href="/static/assets/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="/static/assets/css/font-awesome.min.css" rel="stylesheet" />

		<!--[if IE 7]>
		  <link rel="stylesheet" href="/static/assets/css/font-awesome-ie7.min.css" />
		<![endif]-->

		<!--page specific plugin styles-->
        <link rel="stylesheet" href="/static/assets/css/jquery-ui-1.10.3.full.min.css" />

		<!--fonts-->

		<link rel="stylesheet" href="/static/assets/css/ace-fonts.css" />

		<!--ace styles-->

		<link rel="stylesheet" href="/static/assets/css/ace.min.css" />
		<link rel="stylesheet" href="/static/assets/css/ace-responsive.min.css" />
		<link rel="stylesheet" href="/static/assets/css/ace-skins.min.css" />

		<!--[if lte IE 8]>
		  <link rel="stylesheet" href="/static/assets/css/ace-ie.min.css" />
		<![endif]-->

		<!--inline styles related to this page-->

		<!--ace settings handler-->

		<script src="/static/assets/js/ace-extra.min.js"></script>
        <script type="text/javascript">
            function showMsg(status) {
                var dispFix = false;
                var dispIgnore = false;
                var dialog = $( "#dialog-detail" ).dialog({
                    modal: true,
                    width: 600,
                    height: 170,
                    title: "<div class='widget-header widget-header-small'><h4 class='smaller'><i class='icon-ok'></i> Comment </h4></div>",
                    title_html: true,
                    buttons: [
                        {
                            text: "Fix",
                            "class" : "btn btn-primary btn-mini",
                            "style" : "display:none",
                            click: function() {
                                $( this ).dialog( "close" );
                            }
                        },
                        {
                            text: "Ignore",
                            "class" : "btn btn-primary btn-mini",
                            click: function() {
                                $( this ).dialog( "close" );
                            }
                        },
                        {
                            text: "Cancel",
                            "class" : "btn btn-mini",
                            click: function() {
                                $( this ).dialog( "close" );
                            }
                        },
                        {
                            text: "OK",
                            "class" : "btn btn-primary btn-mini",
                            click: function() {
                                $( this ).dialog( "close" );
                            }
                        }
                    ]
                });
            }
        </script>
	</head>

	<body>
		<div class="navbar" id="navbar">
			<script type="text/javascript">
				try{ace.settings.check('navbar' , 'fixed')}catch(e){}
			</script>

			<div class="navbar-inner">
				<div class="container-fluid">
					<a href="#" class="brand">
						<small>
							<i class="icon-leaf"></i>
							Ace Admin
						</small>
					</a><!--/.brand-->

					<ul class="nav ace-nav pull-right">
						<li class="grey">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<i class="icon-tasks"></i>
								<span class="badge badge-grey">4</span>
							</a>

							<ul class="pull-right dropdown-navbar dropdown-menu dropdown-caret dropdown-closer">
								<li class="nav-header">
									<i class="icon-ok"></i>
									4 Tasks to complete
								</li>

								<li>
									<a href="#">
										<div class="clearfix">
											<span class="pull-left">Task Name</span>
											<span class="pull-right">65%</span>
										</div>

										<div class="progress progress-mini ">
											<div style="width:65%" class="bar"></div>
										</div>
									</a>
								</li>

								<li>
									<a href="#">
										See tasks with details
										<i class="icon-arrow-right"></i>
									</a>
								</li>
							</ul>
						</li>

						<li class="purple">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<i class="icon-bell-alt icon-animated-bell"></i>
								<span class="badge badge-important">8</span>
							</a>

							<ul class="pull-right dropdown-navbar navbar-pink dropdown-menu dropdown-caret dropdown-closer">
								<li class="nav-header">
									<i class="icon-warning-sign"></i>
									8 Notifications
								</li>

								<li>
									<a href="#">
										<div class="clearfix">
											<span class="pull-left">
												<i class="btn btn-mini no-hover btn-pink icon-comment"></i>
												New Comments
											</span>
											<span class="pull-right badge badge-info">+12</span>
										</div>
									</a>
								</li>

								<li>
									<a href="#">
										See all notifications
										<i class="icon-arrow-right"></i>
									</a>
								</li>
							</ul>
						</li>

						<li class="green">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<i class="icon-envelope icon-animated-vertical"></i>
								<span class="badge badge-success">5</span>
							</a>

							<ul class="pull-right dropdown-navbar dropdown-menu dropdown-caret dropdown-closer">
								<li class="nav-header">
									<i class="icon-envelope-alt"></i>
									5 Messages
								</li>

								<li>
									<a href="#">
										<img src="/static/assets/avatars/avatar.png" class="msg-photo" alt="Alex's Avatar" />
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">Alex:</span>
												Message Summary
											</span>

											<span class="msg-time">
												<i class="icon-time"></i>
												<span>Message Time</span>
											</span>
										</span>
									</a>
								</li>

								<li>
									<a href="#">
										See all messages
										<i class="icon-arrow-right"></i>
									</a>
								</li>
							</ul>
						</li>

						<li class="light-blue">
							<a data-toggle="dropdown" href="#" class="dropdown-toggle">
								<img class="nav-user-photo" src="/static/assets/avatars/user.jpg" alt="Jason's Photo" />
								<span class="user-info">
									<small>Welcome,</small>
									Jason
								</span>

								<i class="icon-caret-down"></i>
							</a>

							<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-closer">
								<li>
									<a href="#">
										<i class="icon-cog"></i>
										Settings
									</a>
								</li>

								<li class="divider"></li>

								<li>
									<a href="#">
										<i class="icon-off"></i>
										Logout
									</a>
								</li>
							</ul>
						</li>
					</ul><!--/.ace-nav-->
				</div><!--/.container-fluid-->
			</div><!--/.navbar-inner-->
		</div>

		<div class="main-container container-fluid">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>

			<div class="sidebar" id="sidebar">
				<script type="text/javascript">
					try{ace.settings.check('sidebar' , 'fixed')}catch(e){}
				</script>

				<div class="sidebar-shortcuts" id="sidebar-shortcuts">
					<div class="sidebar-shortcuts-large" id="sidebar-shortcuts-large">
						<button class="btn btn-small btn-success">
							<i class="icon-signal"></i>
						</button>

						<button class="btn btn-small btn-info">
							<i class="icon-pencil"></i>
						</button>

						<button class="btn btn-small btn-warning">
							<i class="icon-group"></i>
						</button>

						<button class="btn btn-small btn-danger">
							<i class="icon-cogs"></i>
						</button>
					</div>

					<div class="sidebar-shortcuts-mini" id="sidebar-shortcuts-mini">
						<span class="btn btn-success"></span>

						<span class="btn btn-info"></span>

						<span class="btn btn-warning"></span>

						<span class="btn btn-danger"></span>
					</div>
				</div><!--#sidebar-shortcuts-->

				<ul class="nav nav-list">
					<li>
						<a href="index">
							<i class="icon-dashboard"></i>
							<span class="menu-text"> Dashboard </span>
						</a>
					</li>

					<li>
						<a href="hostlist">
							<i class="icon-desktop"></i>
							<span class="menu-text"> Hosts </span>
						</a>
					</li>
				</ul><!--/.nav-list-->

				<div class="sidebar-collapse" id="sidebar-collapse">
					<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
				</div>

				<script type="text/javascript">
					try{ace.settings.check('sidebar' , 'collapsed')}catch(e){}
				</script>
			</div>

			<div class="main-content">
				<div class="page-content ">
					<div class="row-fluid">
						<div class="span12">
							<h3 class="header smaller lighter blue">{{ HostName }} &nbsp;
								<a href="#" data-action="reload"><i class="icon-refresh"></i></a>
							</h3>
							<div class="row-fluid">
								<div class="span6">
									<table id="sample-table-1" class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th class="span1">系统</th>
												<th class="span2">状态</th>
                                                <th class="span2 align-right">{{ SysDateTime }}</th>
											</tr>
										</thead>

										<tbody>
                                            {% for SysInfo in SysInfoList %}
                                            <tr>
												<td>
													<a href="#">{{ SysInfo.item }}</a>
												</td>
												<td colspan="2">
                                                    {% if SysInfo.status == 'ok' %}
													<span class="badge badge-success ">{{ SysInfo.info }}</span>
                                                    {% endif %}
                                                    {% if SysInfo.status == 'warning' %}
													<span class="badge badge-warning ">{{ SysInfo.info }}</span>
                                                    {% endif %}
                                                    {% if SysInfo.status == 'error' %}
													<span class="badge badge-pink ">{{ SysInfo.info }}</span>
                                                    {% endif %}
												</td>
                                            </tr>
                                            {% endfor %}
										</tbody>
									</table>
								</div><!--/span-->
								<div class="span6">
									<table id="sample-table-1" class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th class="span1">业务</th>
												<th class="span2">状态</th>
												<th class="span2">最终更新时间</th>
											</tr>
										</thead>

										<tbody>
                                            {% for Event in EventList %}
                                            <tr>
                                                <td>
                                                    <a href="{{ url_for('host.hostdetail', host=Host, event=Event.event) }}">{{ Event.name }}</a>
                                                </td>
												<td>
													<span class="badge badge-success ">{{ Event.ok_cnt }}</span>
													<span class="badge badge-warning ">{{ Event.warning_cnt }}</span>
													<span class="badge badge-pink ">{{ Event.error_cnt }}</span>
                                                    <span class="badge badge-grey ">{{ Event.unknown_cnt }}</span>
												</td>
                                                <td>{{ Event.date_time }}</td>
                                            </tr>
                                            {% endfor %}
										</tbody>
									</table>
								</div><!--/span-->
							</div><!--/row-->

                            {% if not EventLogs is none %}
							<div class="row-fluid">
								<div class="span12">
									<h3 class="header smaller lighter green">{{ EventName }}</h3>
									<table id="sample-table-2" class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
                                                <th class="span1">ID</th>
												<th class="span1">动作</th>
												<th class="span2">状态</th>
												<th class="span2">最终更新时间</th>
												<th class="span3">内容</th>
												<th class="span2">操作</th>
											</tr>
										</thead>

										<tbody>
                                            {% for EventLog in EventLogs %}
                                            <tr>
                                                <td>{{ EventLog.event_id }}</td>
                                                <td>{{ EventLog.action }}</td>
                                                <td>
                                                    {% if EventLog.operation.startswith('ok') %}
                                                    <span class="badge badge-success ">{{ EventLog.operation }}</span>
                                                    {% endif %}
                                                    {% if EventLog.operation.startswith('warning') %}
                                                    <span class="badge badge-warning ">{{ EventLog.operation }}</span>
                                                    {% endif %}
                                                    {% if EventLog.operation.startswith('error') %}
                                                    <span class="badge badge-pink ">{{ EventLog.operation }}</span>
                                                    {% endif %}
                                                    {% if EventLog.operation.startswith('unknown') %}
                                                    <span class="badge badge-grey ">{{ EventLog.operation }}</span>
                                                    {% endif %}
                                                </td>
                                                <td>{{ EventLog.event_time }}</td>
                                                <td>{{ EventLog.content }}</td>
                                                <td>
                                                    <a href="#" id="id-btn-dialog1" class="btn btn-purple btn-minier"><i class="icon-pencil"></i>Confirm Detail</a>
                                                    <button class="btn btn-minier" id="bootbox-regular" onclick="showMsg()">Regular Dialog</button>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                            <div id="dialog-detail" class="hide">
                                                <textarea class="span6" id="operation" placeholder="Default Text"></textarea>
                                            </div><!--#dialog-message-->
										</tbody>
									</table>
								</div>
							</div>
                            {% endif %}
						</div><!--/.span-->
					</div><!--/.row-fluid-->
				</div><!--/.page-content-->

				<div class="ace-settings-container" id="ace-settings-container">
					<div class="btn btn-app btn-mini btn-warning ace-settings-btn" id="ace-settings-btn">
						<i class="icon-cog bigger-150"></i>
					</div>

					<div class="ace-settings-box" id="ace-settings-box">
						<div>
							<div class="pull-left">
								<select id="skin-colorpicker" class="hide">
									<option data-skin="default" value="#438EB9">#438EB9</option>
									<option data-skin="skin-1" value="#222A2D">#222A2D</option>
									<option data-skin="skin-2" value="#C6487E">#C6487E</option>
									<option data-skin="skin-3" value="#D0D0D0">#D0D0D0</option>
								</select>
							</div>
							<span>&nbsp; Choose Skin</span>
						</div>

						<div>
							<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-navbar" />
							<label class="lbl" for="ace-settings-navbar"> Fixed Navbar</label>
						</div>

						<div>
							<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-sidebar" />
							<label class="lbl" for="ace-settings-sidebar"> Fixed Sidebar</label>
						</div>

						<div>
							<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-breadcrumbs" />
							<label class="lbl" for="ace-settings-breadcrumbs"> Fixed Breadcrumbs</label>
						</div>

						<div>
							<input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-rtl" />
							<label class="lbl" for="ace-settings-rtl"> Right To Left (rtl)</label>
						</div>
					</div>
				</div><!--/#ace-settings-container-->
			</div><!--/.main-content-->
		</div><!--/.main-container-->

		<!--basic scripts-->

		<!--[if !IE]>-->

		<script type="text/javascript">
			window.jQuery || document.write("<script src='/static/assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
		</script>

		<!--<![endif]-->

		<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='/static/assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

		<script type="text/javascript">
			if("ontouchend" in document) document.write("<script src='/static/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<script src="/static/assets/js/bootstrap.min.js"></script>

		<!--page specific plugin scripts-->
		<script src="/static/assets/js/jquery.dataTables.min.js"></script>
		<script src="/static/assets/js/jquery.dataTables.bootstrap.js"></script>
		<script src="/static/assets/js/jquery-ui-1.10.3.full.min.js"></script>
		<script src="/static/assets/js/jquery.ui.touch-punch.min.js"></script>
        <script src="/static/assets/js/bootbox.min.js"></script>
		<!--ace scripts-->

		<script src="/static/assets/js/ace-elements.min.js"></script>
		<script src="/static/assets/js/ace.min.js"></script>

		<script type="text/javascript">
			jQuery(function($) {
				var oTable1 = $('#sample-table-2').dataTable( {
                "aaSorting": [],
				"aoColumns": [
                  null,
			      { "bSortable": false },
			      null,null,  
				  { "bSortable": false },
				  { "bSortable": false }
				] } );
				//override dialog's title function to allow for HTML titles
				$.widget("ui.dialog", $.extend({}, $.ui.dialog.prototype, {
					_title: function(title) {
						var $title = this.options.title || '&nbsp;'
						if( ("title_html" in this.options) && this.options.title_html == true )
							title.html($title);
						else title.text($title);
					}
				}));
			})
		</script>
		<!--inline scripts related to this page-->
	</body>
</html>
